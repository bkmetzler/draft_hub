{% extends 'base.html' %}
{% block title %}Tenants · Draft Hub{% endblock %}
{% block content %}
  <h1>Tenants</h1>
  <p>Organize collaborative drafting workspaces by tenant, then by project, to keep documents separated.</p>
  {% if tenants %}
    {% for tenant in tenants %}
      <div class="card">
        <h2><a href="{{ url_for('tenant_detail', tenant_id=tenant.id) }}">{{ tenant.name }}</a></h2>
        {% if tenant.description %}
          <p>{{ tenant.description }}</p>
        {% endif %}
        <p>{{ tenant.projects|length }} project(s).</p>
        {% if tenant.projects %}
          <ul>
            {% for project in tenant.projects[:5] %}
              <li>
                <a href="{{ url_for('project_detail', project_id=project.id) }}">{{ project.name }}</a>
                — {{ project.docs|length }} document(s)
              </li>
            {% endfor %}
          </ul>
        {% endif %}
        {% if g.user %}
          <a class="btn" href="{{ url_for('create_project', tenant_id=tenant.id) }}">New Project</a>
        {% endif %}
      </div>
    {% endfor %}
  {% else %}
    <p>No tenants yet.{% if g.user %} <a href="{{ url_for('create_tenant') }}">Create the first tenant</a>.{% endif %}</p>
  {% endif %}
{% endblock %}
